(this["webpackJsonptest-sound"]=this["webpackJsonptest-sound"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(6),s=n.n(o),r=(n(12),n(3)),u=n(7),i=(n(13),new window.AudioContext),l=[],y=new Map,d=new Map,b=function(e,t){t&&l.push(t),y.set(t,!0);var n=i.createOscillator(),c=i.createGain();n.connect(c),c.connect(i.destination),n.type="sine",n.frequency.value=e,c.gain.setValueAtTime(.1,0),c.gain.exponentialRampToValueAtTime(.001,i.currentTime+3),n.start(i.currentTime),d.set(t,{oscillator:n,context:i.currentTime})},K=function(e,t){e&&l.length&&!d.get(e)&&(e=l[0],l=[]);var n=d.get(e),c=n.oscillator,a=n.context;c&&a&&(c.stop(a+t),l=[],y.set(e,""),d.set(e,""))},j=n(1);var f=function(e){var t=e.keysWhite,n=e.values,a=e.keysBlack,o=Object(c.useState)(null),s=Object(u.a)(o,2),i=s[0],l=s[1],f=Object(c.useRef)();Object(c.useEffect)((function(){f.current.focus()}),[]);var O=Object(c.useCallback)((function(e,t){t.classList.add("down"),l({element:t,note:e}),b(n[e],e)}),[n]),m=Object(c.useCallback)((function(){i&&(i.element.classList.remove("down"),K(i.note,0),l(null))}),[i]),g=Object(c.useCallback)((function(e,c){if(!y.get(e)&&[].concat(Object(r.a)(t),Object(r.a)(a)).includes(e)&&n[e])return c.currentTarget.querySelector(".".concat(e)).classList.add("down"),b(n[e],e)}),[a,t,n]),p=Object(c.useCallback)((function(e,n){[].concat(Object(r.a)(t),Object(r.a)(a)).includes(e)&&d.get(e)&&(n.currentTarget.querySelector(".".concat(e)).classList.remove("down"),K(e,.1))}),[a,t]);return Object(j.jsxs)("div",{ref:f,tabIndex:"0",onKeyUp:function(e){return p(e.code,e)},onKeyDown:function(e){return g(e.code,e)},onMouseUp:m,className:"main",children:[Object(j.jsx)("h2",{children:"work key [S, D, F, G, H, J, K, E, R, Y, U, I]"}),Object(j.jsx)("div",{className:"black",children:a.map((function(e){return Object(j.jsx)("div",{className:e,onMouseDown:function(t){return O(e,t.target)}},e)}))}),Object(j.jsx)("div",{className:"piano",children:t.map((function(e){return Object(j.jsx)("div",{className:e,onMouseDown:function(t){return O(e,t.target)}},e)}))})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),o(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(f,{keysWhite:["KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK"],keysBlack:["KeyE","KeyR","KeyY","KeyU","KeyI"],values:{KeyS:130.81,KeyE:138,KeyD:146.83,KeyR:154,KeyF:164.81,KeyY:172,KeyG:174.61,KeyU:184,KeyH:196,KeyI:205,KeyJ:220,KeyK:246.94}})}),document.getElementById("root")),O()}},[[15,1,2]]]);
//# sourceMappingURL=main.7b0c1562.chunk.js.map