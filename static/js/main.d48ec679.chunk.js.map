{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","keys","play","stop","values","className","map","note","ind","key","id","onMouseDown","e","onMouseUp","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","context","window","AudioContext","Map","ids","mapPlay","value","event","document","getElementById","push","set","oscillator","createOscillator","gain","createGain","connect","destination","type","frequency","setValueAtTime","exponentialRampToValueAtTime","currentTime","start","time","length","get","setTimeout","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","addEventListener","code","includes","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d48ec679.chunk.js","sourcesContent":["import \"./App.css\";\n\nfunction App({ keys, play, stop, values }) {\n  const notes = [\"c\", \"d\", \"e\", \"f\", \"g\", \"a\", \"h\"];\n\n  return (\n    <div className={\"App\"}>\n      <h2>work key [S, D, F, G, H, J, K]</h2>\n      <div className={\"piano\"}>\n        {notes.map((note, ind) => {\n          const key = keys[ind];\n          return (\n            <div\n              id={key}\n              onMouseDown={(e) => play(values[key], key, key)}\n              onMouseUp={() => stop(key, 0, key)}\n              key={note}\n            >\n              {note}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nlet context = new window.AudioContext();\nconst keys = [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyG\", \"KeyH\", \"KeyJ\", \"KeyK\"];\nconst map = new Map();\nlet ids = [];\nconst mapPlay = new Map();\n\nconst play = (value, event, id) => {\n    document.getElementById(event).className = \"down\";\n    if(id) ids.push(id);\n\n    map.set(event, true);\n    let oscillator = context.createOscillator();\n    let gain = context.createGain();\n\n    oscillator.connect(gain);\n    gain.connect(context.destination);\n    oscillator.type = \"sine\";\n\n    oscillator.frequency.value = value;\n    gain.gain.setValueAtTime(0.1, 0);\n    gain.gain.exponentialRampToValueAtTime(0.001, context.currentTime + 3);\n\n    oscillator.start(context.currentTime);\n    mapPlay.set(event, {\n        oscillator: oscillator,\n        context: context.currentTime,\n    });\n};\n\nconst stop = (event, time, id) => {\n    if(id && ids.length && !mapPlay.get(event)) {\n        event = ids[0]\n        ids = []\n    }\n\n    let { oscillator, context } = mapPlay.get(event);\n    oscillator.stop(context + time);\n    ids = []\n    setTimeout(() => {\n        document.getElementById(event).className = \"\";\n    }, time * 1000);\n    map.set(event, \"\");\n    mapPlay.set(event, \"\");\n};\n\nconst values = {\n    KeyS: 130.81,\n    KeyD: 146.83,\n    KeyF: 164.81,\n    KeyG: 174.61,\n    KeyH: 196.0,\n    KeyJ: 220.0,\n    KeyK: 246.94,\n};\n\nwindow.document.addEventListener(\"keydown\", (event) => {\n    if (!map.get(event.code) && event.code === \"KeyS\") {\n        play(values[event.code], event.code);\n    }\n    if (!map.get(event.code) && event.code === \"KeyD\") {\n        play(values[event.code], event.code);\n    }\n    if (!map.get(event.code) && event.code === \"KeyF\") {\n        play(values[event.code], event.code);\n    }\n    if (!map.get(event.code) && event.code === \"KeyG\") {\n        play(values[event.code], event.code);\n    }\n    if (!map.get(event.code) && event.code === \"KeyH\") {\n        play(values[event.code], event.code);\n    }\n    if (!map.get(event.code) && event.code === \"KeyJ\") {\n        play(values[event.code], event.code);\n    }\n    if (!map.get(event.code) && event.code === \"KeyK\") {\n        play(values[event.code], event.code);\n    }\n});\n\nwindow.document.addEventListener(\"keyup\", (event) => {\n    if (keys.includes(event.code) && mapPlay.get(event.code)) {\n        stop(event.code, 0.1);\n    }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App keys={keys} values={values} stop={stop} play={play} />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}